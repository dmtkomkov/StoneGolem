<div class="container">
  <router-outlet></router-outlet>
  @if (stepForm) {
    <div class="foot-form" [formGroup]="stepForm">
      <div class="fields">
        <div class="field-row">
          <div class="field">
            <div class="icon">ğŸ‘¤</div>
            <select formControlName="userId">
              @for (user of users; track user.userId) {
                <option [ngValue]="user.userId">{{ user.userName }}</option>
              }
            </select>
          </div>
          <div class="field">
            <div class="icon">ğŸ“…</div>
            <input type="date" formControlName="completeOn">
          </div>
          <div class="field">
            <div class="icon">ğŸ•‘</div>
            <select formControlName="hours">
              @for (hour of hourOptions; track hour) {
                <option [ngValue]="hour">{{ hour }}h</option>
              }
            </select>
            <select formControlName="minutes">
              @for (minute of minuteOptions; track minute) {
                <option [ngValue]="minute">{{ minute }}m</option>
              }
            </select>
          </div>
          <div class="field">
            <div class="icon">ğŸ“‚</div>
            <sg-select formControlName="categoryId" [optionGroups]="categoryOptions"></sg-select>
          </div>
          <div class="field">
            <div class="icon">ğŸ¯</div>
            <select formControlName="goalId">
              <option [ngValue]="0">-- None --</option>
              @for (goal of goals; track goal.id) {
                <option [ngValue]="goal.id">{{ goal.name }}</option>
              }
            </select>
          </div>
        </div>
        <div class="field-row">
          <div class="field textarea-row">
            <div class="icon">âœï¸</div>
            <textarea formControlName="description"></textarea>
          </div>
        </div>
      </div>
      <div class="buttons">
        <button type="button" (click)="createStep()" [disabled]="stepForm.invalid">
          <svg width="64" height="64" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <defs>
              <linearGradient id="grad" x1="0" y1="0" x2="0" y2="1">
                <stop offset="0" stop-color="#ffffff" stop-opacity="0.95"/>
                <stop offset="1" stop-color="#a7b3ff"/>
              </linearGradient>
              <filter id="shadow" x="-30%" y="-30%" width="160%" height="160%">
                <feDropShadow dx="0" dy="4" stdDeviation="4" flood-color="#000" flood-opacity="0.25"/>
              </filter>
            </defs>

            <g filter="url(#shadow)">
              <path fill="url(#grad)" d="M28 10 h8 v18 h18 v8 H36 v18 h-8 V36 H10 v-8 h18z"/>
              <path d="M28 10 h8 v18 h18 v8 H36 v18 h-8 V36 H10 v-8 h18z"
                    fill="none" stroke="#4a56cf" stroke-opacity="0.45" stroke-width="1.5"/>
            </g>
          </svg>
        </button>
      </div>
    </div>
  }
</div>

